<apex:page standardController="Opportunity"  extensions="OpportunityDownsell"  readonly="true" cache="false">
 <apex:stylesheet value="{!URLFOR($Resource.Upsell_Style)}"/>
    <apex:includeScript value="{!URLFOR($Resource.jquery, 'js/jquery-1.4.2.min.js')}" />
    <apex:includeScript value="{!URLFOR($Resource.RCBlockUI, 'blockUI/js/jquery.blockUI.js')}" />
    <style>
         .btnDiv {
            /*width: 100%;*/
            margin: auto;
            padding-top:3px;
            padding-bottom:3px;
           /* border: 1px solid #A5A6A5;*/
            margin-top: 5px;
            margin-bottom: 5px;
           /* background: #FFF !important;*/
            -moz-border-radius: 11px;
            -webkit-border-radius: 11px;
            border-radius: 11px;
           /* -webkit-box-shadow: 0px -71px 101px -19px #DEEBEF inset;*/ 
            -moz-box-shadow: 0px -71px 101px -19px #DEEBEF inset;
            text-align: center;
            }
            .btn {
            color:#084B8A !important;
            background-color:#E16222!important;
            border: 1px solid #A5A6A5 !important;
           
            padding: 9px !important;
            vertical-align: center;
        }
     .btnDivNew {
        /*width: 95%;*/
        margin: auto;
        border: 1px solid skyblue;
        /* min-height: 100px; */
        margin-top: 5px;
        //margin-bottom: 5px;
        background: #FFF !important;
        
        /*-moz-border-radius: 11px;
        -webkit-border-radius: 11px;
        border-radius: 11px;*/
        
        /*behavior: url({!$Resource.BorderRadiusHTC});
        box-shadow: 0px 0px 20px 0px skyblue inset;
        -webkit-box-shadow: 0px 0px 20px 0px skyblue inset;
        -moz-box-shadow: 0px 0px 20px 0px skyblue inset;*/
        text-align: center;
        /*padding:10px;*/
        padding-top : 3px;
        padding-bottom : 3px;
        margin-left:9px;
    }
        .bPageBlock .pbTitle {
            width: auto !important;
        }
    </style >
    <script type="text/javascript"> 
        function showOverlay() {
            var o = document.getElementById('overlay');
            o.style.visibility = 'visible';
         }
        
        function hideOverlay() {
            var o = document.getElementById('overlay');
            o.style.visibility = 'hidden';
         }
         $(function() {
            $.blockUI({
            message : '<div class="preloader"><img src="' + '{!URLFOR($Resource.loading)}' + '" /><div align="center" id="block-ui-msg"><span id="firstmsg">Please wait</span></div></div>',
            css : {
            padding : '0',
            margin : '0',
            width: '500px',
            border: 'none',
            height: '200px',
            left: '32%',
            top: '30%',
            background: 'none'
            }
         });
         $(window).load(function() { $.unblockUI(); });
         }); 
     </script>     
         
   <apex:pageMessages escape="false" id="error" /> 
   <apex:form id="formcancellation">
      <div id="overlay" style="text-align:center;padding-top:190px;">
       <apex:image value="{!$Resource.loading}" ></apex:image>
     </div>
       <apex:PageBlock id="pageBlock">
       <div  class="btnDivNew" >
            <!-- <apex:pageBlockButtons location="both" id="buttonSection" style="vertical-align: middle" >  -->
                <apex:outputpanel id="btnsectiontop">    
                       <apex:commandButton action="{!back}" value="Back" rerender="mainpanel,btnsectiontop,btnsection"
                            status="Ajaxstatus5"  rendered="{!toShowCustomerSection}"/> 
                            
                       <apex:commandButton action="{!create}"  value="Create" rerender="mainpanel,btnsectiontop,btnsection"
                            status="Ajaxstatus5" rendered="{!toShowCustomerSection}" style="margin-left:5px;margin-right:5px" />
                       
                       <apex:commandButton action="{!next}" value="Next" rerender="mainpanel,btnsectiontop,btnsection"
                            status="Ajaxstatus5"  rendered="{!!toShowCustomerSection}"/>
                        
                        <apex:commandButton action="{!skip}" value="Skip" rerender="mainpanel,btnsectiontop,btnsection"
                            status="Ajaxstatus5" rendered="{!!toShowCustomerSection}" style="margin-left:5px;margin-right:5px"/>
                        
                        <apex:commandButton action="{!cancel}" value="Cancel" id="btnCanceltop"/>
                        
                        <apex:actionStatus id="Ajaxstatus5" onStart="showOverlay();" onstop="hideOverlay();"/>
                </apex:outputpanel>
            <!--</apex:pageBlockButtons> -->
            </div>
             <apex:PageBlockSection id="cancellationreason" columns="1">
                      <apex:outputpanel id="mainpanel"><!--
                        --{!lstsectedCancReasons}--
                        --><apex:outputPanel id="errorMsg1">
                            <apex:dataTable value="{!tempList}" rendered="{!toshowerrorMsg}" var="a" id="theTable1" styleClass="centerAlign" style="width:100%;margin-bottom:5px;background-color: #FFFF99; font-family:TRebuchet MS;font-weight: bold;border:2.5px solid #32588E;-moz-border-radius:9px 9px 9px 9px;border-radius:9px 9px 9px 9px;vertical-align:middle;">
                                   <apex:column id="thecolumn1" style="vertical-align:middle;width:15%;text-align:center;height:85px;">
                                      <apex:image value="{!$Resource.WarningRed}"  width="48" height="40" style="padding:5px"  />  
                                   </apex:column>
                                   <apex:column id="thecolumn2" style="vertical-align:middle;padding-bottom: 5px;padding-top: 5px;">
                                       <apex:repeat value="{!errorMsgList}" var="errorvalue">&bull;
                                        <apex:outputText style="padding:5px;" escape="false" value="{!errorvalue}">
                                        </apex:outputText><br/>
                                       </apex:repeat>
                                   </apex:column>
                            </apex:dataTable>
                        </apex:outputPanel>
                        <apex:outputpanel rendered="{!!toShowCustomerSection}">
                        <!-- <apex:PageBlock title="Select Downsell Reason"> 
                         <table width="100%"  border="0"  style="border:1px solid #F98400;"  cellpadding="5px" cellspacing="5px;"> -->
                         <div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="pbTitle"><h2 class="mainTitle" style="font-size:20px;">Select Downsell Reason</h2></td><td>&nbsp;</td></tr></tbody></table></div> 
                         <table width="100%"  border="0"  style="border:1px solid #F98400;box-shadow: 0px 0px 20px 0px #F98400 inset;"  cellpadding="5px" cellspacing="5px;">
                            <tr>
                                <td rowspan="11" style="vertical-align: middle;">
                                    <table width="100%" cellpadding="5px" cellspacing="5px;">
                                        <tr><td>
                                            <apex:OutputLabel style="font-weight:Bold;" value="Downsell Details" for=""></apex:OutputLabel>&nbsp;
                                        </td></tr>
                                        <tr>
                                            <td style="border:1px solid #F98400;background:white;">
                                               <table>
                                                  <tr> 
                                                    <td>
                                                       <apex:OutputLabel style="font-weight:Bold;" value="What's changing?" for=""></apex:OutputLabel>&nbsp;
                                                     </td>
                                                    </tr> 
                                                  <tr>  
                                                    <td>   
                                                       <apex:selectCheckboxes value="{!lstselectedChangingReasons}" layout="pageDirection" > 
                                                        <apex:selectOptions value="{!changingOption}"/>
                                                      </apex:selectCheckboxes>
                                                     </td>
                                                  </tr>
                                               </table>   
                                            </td>
                                            <td style="border:1px solid #F98400;background:white;">
                                               <table>
                                                  <tr> 
                                                    <td>
                                                       <apex:OutputLabel style="font-weight:Bold;" value="Why is cx downselling?(Downgrade Reason)" for=""></apex:OutputLabel>&nbsp;
                                                     </td>
                                                    </tr> 
                                                  <tr>  
                                                    <td>   
                                                       <apex:selectRadio value="{!selectedDowngradeRsn}" layout="pageDirection" > 
                                                        <apex:selectOptions value="{!DownsellReasonOption}"/>
                                                        <apex:actionSupport event="onclick" reRender="mainpanel" action="{!showdetailCall}" status="Ajaxstatus4"/>
                                                      </apex:selectRadio>
                                                     </td>
                                                  </tr>
                                                  <tr>  
                                                    <td>
                                                        <apex:outPutPanel rendered="{!toshowotherdetail}">
                                                            <span style="Color:Red;margin-left:20px;">*</span> <apex:InputText style="width:60%;margin-left:27px;" value="{!oppObj.Other_details__c}">
                                                            </apex:InputText><br/>&nbsp;
                                                        </apex:outPutPanel>   
                                                    </td>
                                                  </tr>
                                               </table>  
                                            </td>
                                         </tr>
                                    </table> 
                                </td>
                                <td>
                                    <apex:outputPanel rendered="{!if(toshowOutage || toshowSuppCustomerCare || toshowSalesExpectation || toShowBusinessMortality || toshowPricedetail || toshowcostdetail || toShowAccountUId || toshowCouldnotworkingdetail || toshowmissingfeature ||toshowFax|| toshowQOsdetail,true,false)}">
                                    <table width="100%" cellpadding="5px" cellspacing="5px;">
                                        <tr>
                                            <td style="border:1px solid #F98400;background:white;">
                                               <table>
                                                  <tr>  
                                                     <td>
                                                       <apex:OutputLabel style="font-weight:Bold;" value="Sub-downgrade reason" for=""></apex:OutputLabel>&nbsp;
                                                     </td>
                                                  </tr>
                                               </table> 
                                            </td>
                                         </tr>
                                    </table>
                                    </apex:outputPanel>  
                                </td>
                            </tr>
                             <tr>
                                <td>
                                    <apex:outputPanel rendered="{!toShowBusinessMortality}">
                                    <table width="100%" cellpadding="5px" cellspacing="5px;">
                                        <tr>
                                            <td style="border:1px solid #F98400;background:white;">
                                               <table>
                                                 <tr><th><u> Business Mortality</u></th></tr>
                                                  <tr>  
                                                    <td>
                                                       <apex:selectRadio value="{!selectedSubDownGradeReason}" layout="pageDirection" >  
                                                            <apex:selectOptions value="{!BusinessMortality}"/>
                                                            <apex:actionSupport event="onclick" reRender="mainpanel" action="{!changeSubDownGrade}" status="Ajaxstatus4"/>
                                                       </apex:selectRadio>
                                                     </td>
                                                  </tr>
                                                  <tr>  
                                                    <td>
                                                        <apex:outPutPanel rendered="{!toShowOtherSubDownGrade}">
                                                            <span style="Color:Red;margin-left:20px;">*</span> 
                                                            <apex:Inputfield style="width:60%;margin-left:27px;" value="{!oppObj.Other_SubDowngrade_Reason__c}">
                                                            </apex:Inputfield><br/>&nbsp;
                                                        </apex:outPutPanel>   
                                                    </td>
                                                  </tr>
                                               </table>
                                            </td>
                                         </tr>
                                    </table>
                                   </apex:outputPanel>  
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <apex:outputPanel rendered="{!toShowAccountUId}">
                                    <table width="100%" cellpadding="5px" cellspacing="5px;">
                                        <tr>
                                            <td style="border:1px solid #F98400;background:white;">
                                               <table>
                                                 <tr><th><u> New Account UID </u></th></tr>
                                                  <tr>  
                                                    <td><span style="Color:Red;margin-left:20px;">*</span> 
                                                       <apex:InputText value="{!oppObj.New_Account_UID__c}"/>
                                                     </td>
                                                  </tr>
                                               </table>
                                            </td>
                                         </tr>
                                    </table>
                                   </apex:outputPanel>  
                                </td>
                            </tr>
                            <!-- <tr>
                                <td>
                                    <apex:outputPanel rendered="{!toshowcostdetail}">
                                    <table width="100%" cellpadding="5px" cellspacing="5px;">
                                        <tr>
                                            <td style="border:1px solid #F98400;background:white;">
                                               <table>
                                                 <tr><th><u> Cost </u></th></tr>
                                                  <tr>  
                                                    <td>
                                                       <apex:selectRadio value="{!selectedSubDownGradeReason}"  layout="pageDirection" > 
                                                            <apex:selectOptions value="{!CostOption}"/>
                                                            <apex:actionSupport event="onclick" reRender="mainpanel" action="{!changeSubDownGrade}" status="Ajaxstatus4"/>
                                                       </apex:selectRadio>
                                                     </td>
                                                  </tr>
                                               </table>
                                            </td>
                                         </tr>
                                    </table>
                                   </apex:outputPanel>  
                                </td>
                            </tr> -->
                            <tr>
                                <td>
                                    <apex:outputPanel rendered="{!toshowCouldnotworkingdetail}">
                                    <table width="100%" cellpadding="5px" cellspacing="5px;">
                                        <tr>
                                            <td style="border:1px solid #F98400;background:white;">
                                               <table>
                                               <tr><th><u>Couldn't get it working</u></th></tr>
                                                  <tr>  
                                                    <td>
                                                       <apex:selectRadio value="{!selectedSubDownGradeReason}"  layout="pageDirection" > 
                                                            <apex:selectOptions value="{!CouldnotworkingdetailOption}"/>
                                                            <apex:actionSupport event="onclick" reRender="mainpanel" action="{!changeSubDownGrade}" status="Ajaxstatus4"/>
                                                       </apex:selectRadio>
                                                     </td>
                                                  </tr>
                                                  <tr>  
                                                    <td>
                                                        <apex:outPutPanel rendered="{!toShowOtherSubDownGrade}">
                                                            <span style="Color:Red;margin-left:20px;">*</span> 
                                                            <apex:Inputfield style="width:60%;margin-left:27px;" value="{!oppObj.Other_SubDowngrade_Reason__c}">
                                                            </apex:Inputfield><br/>&nbsp;
                                                        </apex:outPutPanel>   
                                                    </td>
                                                  </tr>
                                               </table>
                                            </td>
                                         </tr>
                                    </table>
                                   </apex:outputPanel>  
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <apex:outputPanel rendered="{!toshowmissingfeature}">   
                                    <table width="100%" cellpadding="5px" cellspacing="5px;">
                                        <tr>
                                            <td style="border:1px solid #F98400;background:white;">
                                               <table>
                                               <tr><th><u>Missing critical feature</u></th></tr>
                                                  <tr>  
                                                    <td>
                                                        <apex:selectRadio value="{!selectedSubDownGradeReason}" layout="pageDirection" > 
                                                            <apex:selectOptions value="{!missingfeaturedetailOption}"/>
                                                             <apex:actionSupport event="onclick" reRender="mainpanel" action="{!changeSubDownGrade}" status="Ajaxstatus4"/>
                                                        </apex:selectRadio>
                                                     </td>
                                                     <td>
                                                        <apex:outputPanel id="others" rendered="{!toShowSubDownGradeOtherMissing}">
                                                        <apex:OutputLabel style="font-weight:Bold;" value="Detailed Reason Optional" for=""></apex:OutputLabel>&nbsp;
                                                        <table width="100%" cellpadding="0" cellspacing="0">
                                                            <tr>
                                                                <td> 
                                                                   <table>
                                                                      <tr>  
                                                                        <td>
                                                                            <apex:inputField value="{!oppObj.Sub_Downgrade_Reason_Other__c}" label="Provide detailed reason" />
                                                                         </td>
                                                                      </tr>
                                                                   </table>
                                                                </td>
                                                             </tr>
                                                        </table>
                                                       </apex:outputPanel>  
                                                     </td>
                                                  </tr>
                                                  <tr>  
                                                   <td>
                                                        <apex:outPutPanel rendered="{!toShowOtherSubDownGrade}">
                                                                  <b><span style="Color:Red;margin-left:20px;">*</span></b>
                                                                   <apex:Inputfield style="width:60%;margin-left:27px;" value="{!oppObj.Other_SubDowngrade_Reason__c}">
                                                                   </apex:Inputfield><br/>&nbsp;
                                                         </apex:outPutPanel>                          
                                                   </td>
                                                  </tr>
                                               </table> 
                                            </td>
                                         </tr>
                                    </table>
                                   </apex:outputPanel> 
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <apex:outputPanel rendered="{!toshowOutage}">
                                    <table width="100%" cellpadding="5px" cellspacing="5px;">
                                        <tr>
                                            <td style="border:1px solid #F98400;background:white;">
                                               <table>
                                                 <tr><th><u> Outage </u></th></tr>
                                                  <tr>
                                                    <td style="vertical-align: middle;">
                                                      Enter the date of the outage: 
                                                    </td>  
                                                    <td>
                                                      <apex:inputField value="{!oppObj.Outage_Date__c}"></apex:inputField> 
                                                    </td>
                                                  </tr>
                                               </table>
                                            </td>
                                         </tr>
                                    </table>
                                   </apex:outputPanel>  
                                </td>
                            </tr>
                            <tr>
                                 <td>
                                     <apex:outputPanel rendered="{!toshowPricedetail}">     
                                          <table width="100%" cellpadding="5px" cellspacing="5px;">
                                                <tr>
                                                    <td style="border:1px solid #F98400;background:white;">
                                                       <table>
                                                              <tr><th><u> Price </u></th></tr>
                                                              <tr>  
                                                                  <td>
                                                                    <apex:selectRadio value="{!selectedSubDownGradeReason}"  layout="pageDirection" > 
                                                                        <apex:selectOptions value="{!PriceOption}"/>
                                                                        <apex:actionSupport event="onclick" reRender="mainpanel" action="{!changeSubDownGrade}" status="Ajaxstatus4"/>
                                                                    </apex:selectRadio>
                                                                 </td> 
                                                            </tr>
                                                            <tr>  
                                                            <td>
                                                                <apex:outPutPanel rendered="{!toShowOtherSubDownGrade}">
                                                                    <span style="Color:Red;margin-left:20px;">*</span> 
                                                                    <apex:Inputfield style="width:60%;margin-left:27px;" value="{!oppObj.Other_SubDowngrade_Reason__c}">
                                                                    </apex:Inputfield><br/>&nbsp;
                                                                </apex:outPutPanel>   
                                                            </td>
                                                          </tr>
                                                        </table> 
                                                    </td>
                                                 </tr>
                                           </table>
                                        </apex:outputPanel> 
                                 </td>
                             </tr>
                             <tr>
                                 <td>
                                     <apex:outputPanel rendered="{!toshowQOsdetail}">     
                                          <table width="100%" cellpadding="5px" cellspacing="5px;">
                                                <tr>
                                                    <td style="border:1px solid #F98400;background:white;">
                                                       <table>
                                                              <tr><th><u> QoS Voice </u></th></tr>
                                                              <tr>  
                                                                  <td>
                                                                    <apex:selectRadio value="{!selectedSubDownGradeReason}"  layout="pageDirection" > 
                                                                        <apex:selectOptions value="{!QOsdetailOption}"/>
                                                                        <apex:actionSupport event="onclick" reRender="mainpanel" action="{!changeSubDownGrade}" status="Ajaxstatus4"/>
                                                                    </apex:selectRadio>
                                                                 </td>
                                                            </tr>
                                                            <tr>  
                                                            <td>
                                                                <apex:outPutPanel rendered="{!toShowOtherSubDownGrade}">
                                                                    <span style="Color:Red;margin-left:20px;">*</span> 
                                                                    <apex:Inputfield style="width:60%;margin-left:27px;" value="{!oppObj.Other_SubDowngrade_Reason__c}">
                                                                    </apex:Inputfield><br/>&nbsp;
                                                                </apex:outPutPanel>   
                                                            </td>
                                                          </tr>
                                                        </table> 
                                                    </td>
                                                 </tr>
                                           </table>
                                        </apex:outputPanel> 
                                 </td>
                             </tr>
                             <tr>
                                <td>
                                    <apex:outputPanel rendered="{!toshowFax}">     
                                        <table width="100%" cellpadding="5px" cellspacing="5px;">
                                            <tr>
                                                <td style="border:1px solid #F98400;background:white;">
                                                   <table>
                                                      <tr><th><u> QoS Fax </u></th></tr> 
                                                      <tr>  
                                                         <td>
                                                               <apex:selectRadio value="{!selectedSubDownGradeReason}" layout="pageDirection" > 
                                                                 <apex:selectOptions value="{!FaxOption}"/>
                                                                 <apex:actionSupport event="onclick" reRender="mainpanel" action="{!changeSubDownGrade}" status="Ajaxstatus4"/>
                                                               </apex:selectRadio>
                                                          </td>
                                                      </tr>
                                                      <tr>  
                                                        <td>
                                                            <apex:outPutPanel rendered="{!toShowOtherSubDownGrade}">
                                                                <span style="Color:Red;margin-left:20px;">*</span> 
                                                                <apex:Inputfield style="width:60%;margin-left:27px;" value="{!oppObj.Other_SubDowngrade_Reason__c}">
                                                                </apex:Inputfield><br/>&nbsp;
                                                            </apex:outPutPanel>   
                                                        </td>
                                                      </tr>
                                                   </table> 
                                                </td>
                                             </tr>
                                        </table>
                                    </apex:outputPanel> 
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <apex:outputPanel rendered="{!toshowSalesExpectation}">     
                                        <table width="100%" cellpadding="5px" cellspacing="5px;">
                                            <tr>
                                                <td style="border:1px solid #F98400;background:white;">
                                                   <table>
                                                      <tr><th><u> Sales Expectations </u></th></tr> 
                                                      <tr>  
                                                         <td>
                                                               <apex:selectRadio value="{!selectedSubDownGradeReason}" layout="pageDirection" > 
                                                                 <apex:selectOptions value="{!SalesExpectationOption}"/>
                                                                 <apex:actionSupport event="onclick" reRender="mainpanel" action="{!changeSubDownGrade}" status="Ajaxstatus4"/>
                                                               </apex:selectRadio>
                                                          </td>
                                                      </tr>
                                                      <tr>  
                                                        <td>
                                                            <apex:outPutPanel rendered="{!toShowOtherSubDownGrade}">
                                                                <span style="Color:Red;margin-left:20px;">*</span> 
                                                                <apex:Inputfield style="width:60%;margin-left:27px;" value="{!oppObj.Other_SubDowngrade_Reason__c}">
                                                                </apex:Inputfield><br/>&nbsp;
                                                            </apex:outPutPanel>   
                                                        </td>
                                                      </tr>
                                                   </table> 
                                                </td>
                                             </tr>
                                        </table>
                                    </apex:outputPanel> 
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <apex:outputPanel rendered="{!toshowSuppCustomerCare}">     
                                        <table width="100%" cellpadding="5px" cellspacing="5px;">
                                            <tr>
                                                <td style="border:1px solid #F98400;background:white;">
                                                   <table>
                                                      <tr><th><u> Support/Customer Care </u></th></tr> 
                                                      <tr>  
                                                         <td>
                                                               <apex:selectRadio value="{!selectedSubDownGradeReason}" layout="pageDirection" > 
                                                                 <apex:selectOptions value="{!CustomerCareOption}"/>
                                                                 <apex:actionSupport event="onclick" reRender="mainpanel" action="{!changeSubDownGrade}" status="Ajaxstatus4"/>
                                                               </apex:selectRadio>
                                                          </td>
                                                      </tr>
                                                      <tr>  
                                                        <td>
                                                            <apex:outPutPanel rendered="{!toShowOtherSubDownGrade}">
                                                                <span style="Color:Red;margin-left:20px;">*</span> 
                                                                <apex:Inputfield style="width:60%;margin-left:27px;" value="{!oppObj.Other_SubDowngrade_Reason__c}">
                                                                </apex:Inputfield><br/>&nbsp;
                                                            </apex:outPutPanel>   
                                                        </td>
                                                      </tr>
                                                   </table> 
                                                </td>
                                             </tr>
                                        </table>
                                    </apex:outputPanel> 
                                </td>
                            </tr>
                 
                        </table>
                    
                       <!--  </apex:PageBlock> -->
                        </apex:outputpanel>
                        <apex:outputPanel rendered="{!toShowCustomerSection}">
                        <!-- <div><h4>Downsell Competitors </h4></div>
                             <table width="100%"  style="border:1px solid #F98400;"  cellpadding="5px" cellspacing="5px;"> -->
                             <div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="pbTitle"><h2 class="mainTitle" style="font-size:20px;">Downsell Competitors </h2></td><td>&nbsp;</td></tr></tbody></table></div> 
                             <table width="100%"  border="0"  style="border:1px solid #F98400;box-shadow: 0px 0px 20px 0px #F98400 inset;"  cellpadding="5px" cellspacing="5px;">
                                <tr>
                                   <td rowspan="5"  style="vertical-align: middle;">
                                      <table width="100%" cellpadding="5px" cellspacing="5px;">
                                            <tr>
                                                <td  style="vertical-align: middle;">
                                                     <table width="100%" cellpadding="5px" cellspacing="5px;" style="border:1px solid #F98400;background:white;"  >
                                                              <tr>
                                                                  <td>
                                                                      <!--  <apex:OutputLabel style="font-weight:Bold;" value="What will cx use for their phone system?" for=""></apex:OutputLabel>&nbsp; -->
                                                                     <apex:OutputLabel style="font-weight:Bold;" value="What will cx use instead?" for=""></apex:OutputLabel>&nbsp;
                                                                  </td>
                                                             </tr> 
                                                              <tr>  
                                                                  <td>   
                                                                       <apex:selectRadio value="{!selectedCXDetail}" layout="pageDirection" > 
                                                                          <apex:selectOptions value="{!WhichCXDetailOption}"/>
                                                                            <apex:actionSupport event="onclick" reRender="mainpanel" action="{!showcompanyCall}" status="Ajaxstatus4"/>
                                                                       </apex:selectRadio>
                                                                 </td>
                                                            </tr>
                                                            <tr>  
                                                                <td>
                                                                    <apex:outPutPanel rendered="{!toshowSpecifyOthers}">
                                                                        <b><span style="Color:Red;">*</span>Please Specify:</b><apex:InputText style="width:80%;margin-left:20px;" value="{!oppObj.Specify_other__c}">
                                                                        </apex:InputText><br/>&nbsp;
                                                                         
                                                                    </apex:outPutPanel>   
                                                                </td>
                                                          </tr>
                                                   </table> 
                                              </td>
                                     
                                             <td>                                             
                                                 <table width="100%" cellpadding="5px" cellspacing="5px;">
                                                   <tr>
                                                     <td>
                                                         <apex:outputPanel rendered="{!toshowHostedPBX}">
                                                         <table width="100%" cellpadding="5px" cellspacing="5px;">
                                                           <tr>
                                                               <td style="border:1px solid #F98400;background:white;">
                                                                   <table>
                                                                      <tr><th> <u>Hosted PBX </u> </th></tr>
                                                                      <tr>  
                                                                         <td>                                                                                  
                                                                           <apex:selectRadio value="{!selectedSubCXDetail}" layout="pageDirection" > 
                                                                             <apex:selectOptions value="{!HostedPBXOption}"/>
                                                                             <apex:actionSupport event="onclick" reRender="mainpanel" action="{!showOtherSubCompetitorBox}" status="Ajaxstatus4"/>
                                                                          </apex:selectRadio>
                                                                       </td>
                                                                    </tr>
                                                                    <tr>  
                                                                    <td>
                                                                        <apex:outPutPanel rendered="{!toShowOtherSubCompetitorBox}">
                                                                            <span style="Color:Red;margin-left:20px;">*</span> 
                                                                            <apex:Inputfield style="width:60%;margin-left:27px;" value="{!oppObj.Other_SubCompetitors__c}">
                                                                            </apex:Inputfield><br/>&nbsp;
                                                                        </apex:outPutPanel>   
                                                                    </td>
                                                                  </tr>
                                                                 </table> 
                                                               </td>
                                                           </tr>
                                                       </table>
                                                     </apex:outputPanel>
                                                </td>
                                            </tr> 
                                            <tr>
                                              <td>
                                                <apex:outputPanel rendered="{!toshowOnPremisePBX}">
                                                     <table width="100%" cellpadding="5px" cellspacing="5px;">
                                                           <tr>
                                                            <td style="border:1px solid #F98400;background:white;">
                                                               <table>
                                                                <tr><th><u>On-Premise PBX</u></th></tr>
                                                                  <tr>  
                                                                    <td>
                                                                        <apex:selectRadio value="{!selectedSubCXDetail}" layout="pageDirection" > 
                                                                            <apex:selectOptions value="{!OnPremisePBXOption}"/>
                                                                            <apex:actionSupport event="onclick" reRender="mainpanel" action="{!showOtherSubCompetitorBox}" status="Ajaxstatus4"/>
                                                                        </apex:selectRadio>
                                                                     </td>
                                                                  </tr>
                                                                  <tr>  
                                                                    <td>
                                                                        <apex:outPutPanel rendered="{!toShowOtherSubCompetitorBox}">
                                                                            <span style="Color:Red;margin-left:20px;">*</span> 
                                                                            <apex:Inputfield style="width:60%;margin-left:27px;" value="{!oppObj.Other_SubCompetitors__c}">
                                                                            </apex:Inputfield><br/>&nbsp;
                                                                        </apex:outPutPanel>   
                                                                    </td>
                                                                  </tr>
                                                               </table> 
                                                            </td>
                                                         </tr>
                                                    </table>
                                                </apex:outputPanel> 
                                            </td>
                                          </tr>
                                          <!-- <tr>
                                             <td>
                                                <apex:outputPanel rendered="{!toshowCellPhoneOnly}">
                                                         <table width="100%" cellpadding="5px" cellspacing="5px;">
                                                          <tr>
                                                            <td style="border:1px solid #F98400;background:white;">
                                                               <table>
                                                               <tr><th> <u>Cell Phone only</u> </th></tr>
                                                                  <tr>  
                                                                    <td>
                                                                        <apex:selectRadio value="{!selectedSubCXDetail}" layout="pageDirection" > 
                                                                            <apex:selectOptions value="{!CellPhoneOnlyOption}"/>
                                                                            <apex:actionSupport event="onclick" reRender="mainpanel" action="{!showOtherSubCompetitorBox}" status="Ajaxstatus4"/>
                                                                        </apex:selectRadio>
                                                                     </td>
                                                                  </tr>
                                                                  <tr>  
                                                                    <td>
                                                                        <apex:outPutPanel rendered="{!toShowOtherSubCompetitorBox}">
                                                                            <span style="Color:Red;margin-left:20px;">*</span> 
                                                                            <apex:Inputfield style="width:60%;margin-left:27px;" value="{!oppObj.Other_SubCompetitors__c}">
                                                                            </apex:Inputfield><br/>&nbsp;
                                                                        </apex:outPutPanel>   
                                                                    </td>
                                                                  </tr>
                                                               </table> 
                                                            </td>
                                                         </tr>
                                                    </table>
                                                </apex:outputPanel> 
                                             </td>
                                            </tr>
                                            <tr>                                             
                                             <td>
                                                <apex:outputPanel rendered="{!toshowLandline}">
                                                         <table width="100%" cellpadding="5px" cellspacing="5px;">
                                                        <tr>
                                                            <td style="border:1px solid #F98400;background:white;">
                                                                   <table>
                                                                           <tr><th> <u> Land Line </u> </th></tr>
                                                                              <tr>  
                                                                                <td>
                                                                                    <apex:selectRadio value="{!selectedSubCXDetail}" layout="pageDirection" > 
                                                                                        <apex:selectOptions value="{!LandLineOption}"/>
                                                                                        <apex:actionSupport event="onclick" reRender="mainpanel" action="{!showOtherSubCompetitorBox}" status="Ajaxstatus4"/>
                                                                                    </apex:selectRadio>
                                                                               </td>
                                                                          </tr>
                                                                          <tr>  
                                                                        <td>
                                                                            <apex:outPutPanel rendered="{!toShowOtherSubCompetitorBox}">
                                                                                <span style="Color:Red;margin-left:20px;">*</span> 
                                                                                <apex:Inputfield style="width:60%;margin-left:27px;" value="{!oppObj.Other_SubCompetitors__c}">
                                                                                </apex:Inputfield><br/>&nbsp;
                                                                            </apex:outPutPanel>   
                                                                        </td>
                                                                      </tr>
                                                                  </table> 
                                                             </td>
                                                         </tr>                                                                
                                                    </table>
                                                </apex:outputPanel> 
                                            </td>
                                           </tr> -->
                                           <!-- <tr>
                                             <td>
                                                <apex:outputPanel rendered="{!toshowTraditional}">
                                                         <table width="100%" cellpadding="5px" cellspacing="5px;">
                                                                <tr>
                                                                     <td style="border:1px solid #F98400;background:white;">
                                                                           <table>
                                                                               <tr><th><u> Traditional </u> </th></tr>
                                                                               <tr>  
                                                                                   <td>
                                                                                        <apex:selectRadio value="{!selectedSubCXDetail}" layout="pageDirection" > 
                                                                                             <apex:selectOptions value="{!TraditionalOption}"/>
                                                                                        </apex:selectRadio>
                                                                                    </td>
                                                                                </tr>
                                                                           </table> 
                                                                      </td>
                                                                </tr>
                                                       </table>
                                                </apex:outputPanel> 
                                            </td>
                                          </tr>
                                          <tr>                                              
                                               <td>
                                                    <apex:outputPanel rendered="{!toshowOtherCloudPBX}">
                                                             <table width="100%" cellpadding="5px" cellspacing="5px;">
                                                                 <tr>
                                                                    <td style="border:1px solid #F98400;background:white;">
                                                                       <table>
                                                                        <tr><th><u>Other Cloud PBX</u></th></tr>
                                                                          <tr>  
                                                                            <td>
                                                                                <b><span style="Color:Red;">*</span></b><apex:InputText style="width:80%;margin-left:20px;" value="{!oppObj.Other_Cloud_PBX__c}">
                                                                                </apex:InputText>&nbsp;
                                                                             </td>
                                                                          </tr>
                                                                          <tr>
                                                                            <td style="padding-left:18px">
                                                                                <apex:inputCheckbox value="{!oppObj.OtherCloudPBX_Prefers_not_to_say__c}" /> <span>Prefers not to say</span>
                                                                            </td>
                                                                         </tr> 
                                                                       </table> 
                                                                    </td>
                                                                </tr>
                                                           </table>
                                                    </apex:outputPanel> 
                                                </td>
                                            </tr> -->
                                          <!--  <tr>                                              
                                               <td>
                                                    <apex:outputPanel rendered="{!toshowNothing}">
                                                             <table width="100%" cellpadding="5px" cellspacing="5px;">
                                                                 <tr>
                                                                    <td style="border:1px solid #F98400;background:white;">
                                                                       <table>
                                                                        <tr><th><u>Nothing</u></th></tr>
                                                                          <tr>  
                                                                            <td>
                                                                                <apex:selectRadio value="{!selectedSubCXDetail}" layout="pageDirection" > 
                                                                                    <apex:selectOptions value="{!NothingOption}"/>
                                                                                </apex:selectRadio>
                                                                             </td>
                                                                          </tr>
                                                                       </table> 
                                                                    </td>
                                                                </tr> 
                                                           </table>
                                                    </apex:outputPanel> 
                                                </td>
                                             </tr> -->
                                             <!-- <tr>                                              
                                               <td>
                                                    <apex:outputPanel rendered="{!toshowConsolidatingAccount}">Ringcentral-ConsAccount
                                                             <table width="100%" cellpadding="5px" cellspacing="5px;">
                                                                 <tr>
                                                                    <td style="border:1px solid #F98400;background:white;">
                                                                       <table>
                                                                        <tr><th><u>RingCentral – Consolidating Account</u></th></tr>
                                                                          <tr>  
                                                                          <tr>
                                                                            <td>
                                                                                <apex:selectRadio value="{!selectedSubCXDetail}" layout="pageDirection" > 
                                                                                    <apex:selectOptions value="{!ConsolidatingAccountOption}"/>
                                                                                    <apex:actionSupport event="onclick" reRender="mainpanel" action="{!showcompanyCall}" status="Ajaxstatus4"/>
                                                                                </apex:selectRadio>
                                                                             </td>
                                                                             </tr>
                                                                             <tr>
                                                                              <td>
                                                                                <apex:outPutPanel rendered="{!toshowOther_PDR}">
                                                                                   <apex:InputText style="width:60%;margin-left:27px;" value="{!oppObj.Consolidating_Account__c}">
                                                                                    </apex:InputText><br/>&nbsp;                                                                                        
                                                                                </apex:outPutPanel>   
                                                                              </td>
                                                                              </tr>
                                                                          </tr>
                                                                       </table> 
                                                                    </td>
                                                                </tr> 
                                                           </table>
                                                    </apex:outputPanel> 
                                                </td>
                                             </tr> -->
                                      </table>
                                   </td>
                               </tr>
                           </table>  
                         </td>
                      </tr>
                  </table>
               </apex:outputPanel>  
             </apex:outputpanel>
            </apex:PageBlockSection>
            
              
                <div  class="btnDivNew">
            <!-- <apex:pageBlockButtons location="both" id="buttonSection" style="vertical-align: middle" >  -->
                <apex:outputpanel id="btnsection">    
                       <apex:commandButton action="{!back}" value="Back" rerender="mainpanel,btnsectiontop,btnsection"
                            id="btnCrtOpp3" status="Ajaxstatus4"  rendered="{!toShowCustomerSection}"/> 
                            
                       <apex:commandButton action="{!create}"  value="Create" rerender="mainpanel,btnsectiontop,btnsection"
                            id="btnCrtOpp" status="Ajaxstatus4" rendered="{!toShowCustomerSection}" style="margin-left:5px;margin-right:5px" />
                       
                       <apex:commandButton action="{!next}" value="Next" rerender="mainpanel,btnsectiontop,btnsection"
                            id="btnCrtOpp1" status="Ajaxstatus4"  rendered="{!!toShowCustomerSection}"/>
                        
                        <apex:commandButton action="{!skip}" value="Skip" rerender="mainpanel,btnsectiontop,btnsection"
                            id="btnCrtOpp2" status="Ajaxstatus4" rendered="{!!toShowCustomerSection}" style="margin-left:5px;margin-right:5px"/>
                        
                        <apex:commandButton action="{!cancel}" value="Cancel" id="btnCancel"/>
                        
                        <apex:actionStatus id="Ajaxstatus4" onStart="showOverlay();" onstop="hideOverlay();"/>
                </apex:outputpanel>
            <!--</apex:pageBlockButtons> -->
                    </div>
        </apex:PageBlock>
    </apex:form>
 </apex:page>